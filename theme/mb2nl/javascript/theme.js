/**
 *
 * @package   theme_mb2nl
 * @copyright 2017 - 2020 Mariusz Boloz (https://mb2themes.com)
 * @license   Commercial https://themeforest.net/licenses
 *
 */
jQuery(document).ready(function(e){e(".mb2slides-mainslider").each(function(){var t=e(this),a=e(this).find(".mb2slides-slide-list"),s=(a.find(".mb2slides-slide-item").find(".mb2slides-caption"),a.find(">li"),a.find(".mb2slides-nextslide")),o=a.find(".mb2slides-prevslide"),i=a.data("slidescount"),l=a.data("modid"),n=a.data("mode"),r=1==a.data("auto"),d=a.data("aspeed"),m=a.data("items"),c=a.data("margin"),h=a.data("moveitems")>m?m:a.data("moveitems"),u=a.data("apause"),f=1==a.data("kpress"),p=1==a.data("loop"),b=1==a.data("aheight"),v=1==a.data("pager"),g=1==a.data("control")||2==a.data("control"),k=!!e("body").hasClass("dir-rtl"),C=k?"fa fa-angle-right":"fa fa-angle-left",y=k?"fa fa-angle-left":"fa fa-angle-right",w=m>1?[{breakpoint:768,settings:{item:m>2?2:m,slideMove:1}},{breakpoint:480,settings:{item:1,slideMove:1}}]:[];function x(){var t=e(".mb2slides"+l+" .lslide.active"),a=t.find(".mb2slides-caption");t.hasClass("active")?a.hasClass("anim1")&&a.stop().animate({top:0,bottom:0,opacity:1},350):a.stop().animate({top:15,bottom:-15,opacity:0},0)}function T(t){e(window).width()<=768?(t.addClass("mb2slides-mobile"),t.removeClass("mb2slides-desktop")):(t.removeClass("mb2slides-mobile"),t.addClass("mb2slides-desktop"))}i>1&&(a.lightSliderMb2({slidesVisible:!1,item:m,autoWidth:!1,slideMove:h,slideMargin:c,addClass:"",mode:n,useCSS:!0,cssEasing:"ease",easing:"linear",speed:d,auto:r,loop:p,slideEndAnimation:!0,pause:u,keyPress:f,controls:g,prevHtml:'<span class="'+C+'"></span>',nextHtml:'<span class="'+y+'"></span>',rtl:k,adaptiveHeight:b,vertical:!1,verticalHeight:500,vThumbWidth:100,pauseOnHover:!0,thumbItem:10,pager:v,gallery:!1,galleryMargin:5,thumbMargin:5,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:w,onBeforeStart:function(e){},onSliderLoad:function(e){x(),t.addClass("loaded")},onAfterSlide:function(e){x()},onBeforeSlide:function(t){var a;(a=e(".mb2slides"+l+" .mb2slides-caption")).hasClass("anim1")&&a.stop().animate({top:15,bottom:-15,opacity:0},150)},onBeforeNextSlide:function(e){},onBeforePrevSlide:function(e){},onAfterReset:function(e){x()}}),s.click(function(e){e.preventDefault(),a.goToNextSlide()}),o.click(function(e){e.preventDefault(),a.goToPrevSlide()})),T(t),e(window).on("resize",function(){T(t)})}),e(".mb2notices-item.canclose").each(function(){var t=e(this),a="mb2notices-item-"+t.data("itemid"),s=t.data("cookieexpiry"),o={expires:s,path:"/"},i=t.find(".mb2notices-item-close");"hide"!==Cookies.get(a)&&t.show(),i.click(function(e){e.preventDefault(),t.slideUp(250),Cookies.set(a,"hide",o)})}),e(document).on("click",".save-location",function(){Cookies.set("mb2cg_scrollpos",window.pageYOffset,{expires:1,path:"/"})}),Cookies.get("mb2cg_scrollpos")&&(window.scrollTo(0,Cookies.get("mb2cg_scrollpos")),Cookies.remove("mb2cg_scrollpos")),e(".categorypicker").length>0&&e(".course-layout-switcher").length>0&&e(".categorypicker").append(e(".course-layout-switcher")),e("#frontpage-available-course-list").length>0&&e(".course-layout-switcher").length>0&&e("#frontpage-available-course-list").prepend(e(".course-layout-switcher")),e("#frontpage-course-list").length>0&&e(".course-layout-switcher").length>0&&e("#frontpage-course-list").prepend(e(".course-layout-switcher")),function(){var t="courses_layout",a=e(".course-layout-switcher"),s=a.find(">a"),o={expires:3,path:"/"};if(!e(".course-layout-switcher").length)return;"grid"===Cookies.get(t)?(e("body").addClass("course-layout-grid"),s.removeClass("active"),a.find(".grid-layout").addClass("active")):"list"===Cookies.get(t)&&(e("body").removeClass("course-layout-grid"),s.removeClass("active"),a.find(".list-layout").addClass("active"));s.click(function(a){a.preventDefault(),e(this).hasClass("grid-layout")&&!e("body").hasClass("course-layout-grid")?(e("body").addClass("course-layout-grid"),s.removeClass("active"),e(this).addClass("active"),Cookies.remove(t),Cookies.set(t,"grid",o)):e(this).hasClass("list-layout")&&e("body").hasClass("course-layout-grid")&&(e("body").removeClass("course-layout-grid"),s.removeClass("active"),e(this).addClass("active"),Cookies.remove(t),Cookies.set(t,"list",o))})}(),e("body").hasClass("pagelayout-login")&&e("#login").append(e(".potentialidps")),e(".potentialidp a").each(function(){var t=e(this).attr("title");e(this).attr("class",""),e(this).addClass("btn btn-"+t.toLowerCase())});var t="layout_sidebars",a={expires:3,path:"/"},s=e(".theme-hide-sidebar"),o=s.data("showtext"),l=s.data("hidetext");"hidden"!==Cookies.get(t)||e("body").hasClass("editing")?"shown"===Cookies.get(t)&&(e("body").removeClass("hide-sidebars"),s.hasClass("textbutton")&&s.text(l)):(e("body").addClass("hide-sidebars"),s.hasClass("textbutton")&&s.text(o)),s.click(function(s){e("body").hasClass("editing")||(e("body").hasClass("hide-sidebars")?(e("body").removeClass("hide-sidebars"),Cookies.remove(t),Cookies.set(t,"shown",a),e(this).hasClass("textbutton")&&e(this).text(l)):(e("body").addClass("hide-sidebars"),Cookies.remove(t),Cookies.set(t,"hidden",a),e(this).hasClass("textbutton")&&e(this).text(o))),s.preventDefault()}),e(".theme-slider,.mb2-pb-content-list.owl-carousel").each(function(){!function(t){var a=t.data("columns"),s=t.data("margin"),o=0!=t.data("sloop"),i=0!=t.data("snav"),l=0!=t.data("sdots"),n=0!=t.data("autoplay"),r=t.data("pausetime"),d=t.data("animtime"),m=t.data("mobcolumns"),c=a>3?3:a,h=a>5?5:a,u={0:{items:1},600:{items:a>2?2:a},780:{items:c},1000:{items:h}};1==m&&(u={0:{items:2},600:{items:c},780:{items:h},1000:{items:h}});var f=e("body").hasClass("dir-rtl"),p=!1,b=['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'];f&&(p=!0,b=['<i class="fa fa-angle-right"></i>','<i class="fa fa-angle-left"></i>']);(function e(){if("function"!=typeof t.owlCarousel)return setTimeout(e,100),!1;return!0})()&&t.owlCarousel({margin:s,loop:o,nav:i,rtl:p,dots:l,autoplay:n,responsive:u,autoplayHoverPause:!0,autoplayTimeout:r,smartSpeed:d,navText:b})}(e(this))});var n=e(".theme-scrolltt"),r=n.data("scrollspeed");function d(){e(".theme-table-wrap").each(function(){e(this).find(">table").width()>e(this).width()?e(this).addClass("wider"):e(this).removeClass("wider")})}e(window).on("scroll",function(){e(this).scrollTop()>500?n.addClass("active"):n.removeClass("active")}),n.click(function(t){t.preventDefault(),e("html, body").stop().animate({scrollTop:0},r)}),e("body").hasClass("path-admin-setting")&&e(".mb2tmpl-acc-title").each(function(){e(this).click(function(t){e(this).toggleClass("active"),e(this).parent().find("> div").slideToggle(150)})}),e("table").wrap('<div class="theme-table-wrap"></div>'),e(".generaltable, .forumheaderlist, table.userenrolment").addClass("table table-striped"),e("table.collection").addClass("table table-bordered"),e("table.preference-table").addClass("table table-bordered"),e("table.rolecap").addClass("table table-bordered"),e("#categoryquestions").addClass("table table-striped"),d(),e(window).on("resize",function(){d()}),e(".embed-video-bg").each(function(){var t=e(this);t.parent().find(">i").on("click",function(a){t.parent().find("iframe").attr("src",t.data("videourl")),e(this).fadeOut(350),t.fadeOut(350),a.preventDefault()})}),e(".alert-error").addClass("alert-danger"),e(".box.notifyproblem").addClass("alert"),e(".box.notifyproblem").addClass("alert-danger"),e(".box.notifyproblem").removeClass("notifyproblem"),e(".nav-tabs .nav-link").each(function(){e(this).hasClass("active")&&e(this).parent().addClass("active")}),e(".block-region").each(function(){var t='<span class="region-name">'+e(this).data("blockregion")+"</span>";e("body").hasClass("editing")&&e(this).append(t)}),e(".theme-ddmenu").each(function(){var t=e(this),a=t.data("animtype"),s=t.data("animspeed"),o=t.find(".mobile-arrow");function i(e){(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=768?(e.removeClass("sf-js-enabled"),e.removeClass("desk-menu"),e.addClass("mobile-menu")):(e.addClass("sf-js-enabled"),e.removeClass("mobile-menu"),e.addClass("desk-menu"),e.find(".mobile-arrow").removeClass("active"),e.find(".mobile-arrow").parent().siblings("ul").hide())}(function e(){return"function"==typeof t.superfish||(setTimeout(e,100),!1)})()&&t.superfish({popUpSelector:"ul",hoverClass:"mb2ctm-hover",animation:2==a?{height:"show"}:{opacity:"show"},speed:s,speedOut:"fast",cssArrows:!1}),i(t),e(window).on("resize",function(){i(t)}),o.click(function(t){t.preventDefault(),e(this).parent().siblings("ul").slideToggle(250),e(this).toggleClass("active")})}),e(document).on("click",".show-menu",function(t){t.preventDefault(),e(this).parent().parent().find(".theme-ddmenu").slideToggle(250)});var m,c=e(".theme-loginform").find(".usertext"),h=e(".theme-loginform").find(".welcome_userpicture").parent();function u(){var t=e(".panel-link");t.length&&(e(window).scrollTop()>t.offset().top+t.outerHeight(!0)?e("body").addClass("panellinkpass"):e("body").removeClass("panellinkpass"))}function f(){var t=e(window),a=e(".sticky-nav-element-offset");if(a.length&&e("body").hasClass("sticky-nav")){var s=e("#main-navigation"),o=(s.parent(),a.offset().top),i=s.outerHeight(!0);t.scrollTop()>o?(s.addClass("sticky-nav-element"),a.css({height:i})):(s.removeClass("sticky-nav-element"),a.css({height:0}))}}h.append(c),h.click(function(e){e.preventDefault()}),m=0,e(window).scroll(function(){st=e(this).scrollTop(),st<m?(e("body").removeClass("scroll-down"),e("body").addClass("scroll-up")):(e("body").removeClass("scroll-up"),e("body").addClass("scroll-down")),m=st}),u(),e(window).scroll(function(){u()}),setTimeout(function(){f()},10),e(window).scroll(function(){f()}),e('input.mb2color, .mb2color input[type="text"]').each(function(){e(this).spectrum({showInput:!0,showButtons:!1,preferredFormat:"rgb",allowEmpty:!0,color:"",showAlpha:!0})});var p=e(".theme-iconnav").height();e(".theme-iconnav").css({"margin-top":Math.ceil(p/2*-1)}),e(".theme-iconnav li").each(function(){var t=e(this).find(".link-replace"),a=e(this).find("span.text"),s=e("body").hasClass("dir-rtl");t.hover(function(){s?a.stop().animate({left:"100%"},300):a.stop().animate({right:"100%"},300)},function(){s?a.stop().animate({left:-500},150):a.stop().animate({right:-500},150)})}),e('label[for="jump-to-activity"]').closest(".m-t-2").addClass("activity-nav"),e(".header-tools > a.header-tools-jslink").click(function(t){t.preventDefault(),e(this).hasClass("tool-links")?(e(".theme-loginform").hide(),e(".theme-searchform").hide(),e(".theme-links").show(),e(".tool-search").removeClass("active"),e(".tool-login").removeClass("active")):e(this).hasClass("tool-login")?(e(".theme-loginform").show(),e(".theme-searchform").hide(),e(".theme-links").hide(),e(".tool-links").removeClass("active"),e(".tool-search").removeClass("active")):(e(".theme-loginform").hide(),e(".theme-searchform").show(),e(".theme-links").hide(),e(".tool-links").removeClass("active"),e(".tool-login").removeClass("active")),function(){var t=e(".sliding-panel");t.hasClass("closed")&&(v(),t.stop().animate({"margin-top":0},350),t.removeClass("closed"),t.addClass("open"))}();var a=e(".sliding-panel");a.hasClass("open")&&e(this).hasClass("active")&&g(),a.hasClass("open")&&e(this).addClass("active")});var b=e(window).width();function v(){var t=e(".sliding-panel");t.find("btn");t.css({"margin-top":Math.ceil(-1*(t.height()+1))})}function g(){var t=e(".sliding-panel");t.hasClass("open")&&(t.stop().animate({"margin-top":Math.ceil(-1*(e(".sliding-panel").height()+1))},350),t.removeClass("open"),t.addClass("closed"),e(".header-tools a").removeClass("active"))}function k(){var t,a,s,o=[];e("[data-mb2showon]").each(function(){var i=e(this),l=i.data("mb2showon"),n=i.data("mb2showonval"),r=l.toString().split("|"),d=n.toString().split("|");for(t=0;t<r.length;t++)a=r[t],s=d[t],e('[name="'+a+'"]').val()==s?o[t]="yes":o[t]="no";-1!=e.inArray("yes",o)?i.closest(".form-group").show():i.closest(".form-group").hide(),o=[]})}v(),e(window).on("resize",function(){b!=e(window).width()&&(g(),v()),delete b}),e(".sectionname, .section-title").each(function(){var t=e(this).find(">span>a, >a").text();e("body").hasClass("editing")||" "!==t||e(this).hide()}),e("#theme-bookmarks-form").submit(function(t){var a=e(this),s=a.find("#mb2bkcreateurl").val();e.ajax({type:"GET",url:s,data:a.serialize(),beforeSend:function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeIn(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").attr("disabled","disabled")},error:function(t,a,s){setTimeout(function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeOut(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").removeAttr("disabled"),alert(t.responseText)},800)},success:function(t){if(e.isArray(t)){var a=function(t){var a="",s=[];for(i=0;i<t.length;i++){var o=t[i].split(";"),l=e("#theme-bookmarks-form").data("rooturl"),n=e("#theme-bookmarks-form").data("pageurl"),r=e("#theme-bookmarks-form").data("pagetitle"),d=e("#theme-bookmarks-form").data("bookmarkthispage"),m=e("#theme-bookmarks-form").data("unbookmarkthispage");o[0]&&(a+='<li data-url="'+o[0]+'">',a+='<a class="bookmark-link" href="'+l+o[0]+'">'+o[1]+"</a>",a+='<span class="theme-bookmarks-action">',a+='<a href="#" class="theme-bookmarks-form bookmark-edit" data-url="'+o[0]+'" data-mb2bktitle="'+o[1]+'" data-toggle="modal" data-target="#theme-bookmarks-modal"><i class="fa fa-pencil"></i></a>',a+='<a href="#" class="theme-bookmarks-form bookmark-delete" data-url="'+o[0]+'" data-mb2bktitle="'+o[1]+'"><i class="fa fa-times"></i></a>',a+="</span>",a+="</li>",s[i]=o[0])}var c=e.inArray(n,s),h="",u=' data-toggle="modal" data-target="#theme-bookmarks-modal"',f=d;c>-1&&(h=" bookmark-delete",f=m,u="");return a+='<li class="theme-bookmarks-add">',a+='<a href="#" class="theme-bookmarks-form'+h+'" data-url="'+n+'" data-mb2bktitle="'+r+'"'+u+">",a+=f,a+="</a>",a+="</li>"}(t);e("ul.theme-bookmarks").html(a)}else alert(t);setTimeout(function(){e("#theme-bookmarks-modal").find(".loading-bg").fadeOut(250),e("#theme-bookmarks-modal").find(".theme-bookmarks-save").removeAttr("disabled")},800)}}),t.preventDefault()}),e(document).on("click",".theme-bookmarks-save",function(t){e("#theme-bookmarks-form").submit(),t.preventDefault()}),e(document).on("click",".theme-bookmarks-form",function(t){e("#mb2bkurl").val(e(this).data("url")),e("#mb2bktitle").val(e(this).data("mb2bktitle"));var a=e('li[data-url="'+e(this).data("url")+'"]');e(this).hasClass("bookmark-delete")?(e("#bkupdate").val(0),e("#bkdelete").val(1),e("#theme-bookmarks-form").submit()):e(this).hasClass("bookmark-edit")?(e("#bkdelete").val(0),e("#bkupdate").val(1)):a.length>0?(e("#bkdelete").val(0),e("#bkupdate").val(1),e("#mb2bktitle").val(a.find(">a").html())):(e("#bkdelete").val(0),e("#bkupdate").val(0)),t.preventDefault()}),e("form#guestlogin").parent().addClass("guestlogin-form"),e(".pbanimnum-item").each(function(){var t=e(this),a=!0;t.bind("inview",function(e,s){s&&a&&(a=!1,setTimeout(function(){var e=t.find(".pbanimnum-number"),a=t.closest(".mb2-pb-animnum").attr("data-aspeed");a=Number(a),t.prop("Counter",0).stop().animate({Counter:t.attr("data-number")},{duration:a,easing:"swing",step:function(t){e.text(this.Counter.toFixed())}})},600))})}),e(".boxlist>li").each(function(){var t=e(this).find(">ul");t.length&&(e(this).find(">a").append('<span class="boxlist-toggle"></span>'),e(this).find(">span").append('<span class="boxlist-toggle"></span>'))}),e(document).on("click",".boxlist-toggle",function(t){t.preventDefault(),e(this).toggleClass("active"),e(this).parent().siblings("ul").slideToggle(250)}),e(document).on("click",".main-menu a",function(t){var a=e(this).attr("href"),s=a.split(""),o=0;if(e("body").hasClass("sticky-nav")&&(o=46),"#"===s[0]&&s.length>1){if(!e(a).length)return;e("html, body").stop().animate({scrollTop:e(a).offset().top-o},600),t.preventDefault()}}),k(),e(".felement>select").on("change",function(){k()})}),function(e){e(window).on("load",function(){var t=e(".loading-scr");setTimeout(function(){t.fadeOut(150)},t.data("hideafter"))})}(jQuery);
